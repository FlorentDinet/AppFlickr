$(document).ready(function(){function a(a,e){$.ajax({url:"https://randomuser.me/api/"+(null!==a?"?results="+a:""),dataType:"json",success:function(a){n(a,e)}})}function e(){$(".container .row div.col.s4").not("#cardPatron").remove()}function n(a,e){for(var n=0;n<a.results.length;n++){var o=a.results[n],r={id:n,gender:o.gender,name:o.name.last,forname:o.name.first,dateOfBirth:o.dob.substring(0,10),photo:o.picture.large,email:o.email,location:o.location.street+" "+o.location.city+" "+o.location.state+" "+o.location.postcode};console.log(r);var i=$("#cardPatron").clone();i.attr("id",r.id),e&&i.find(".card").addClass(e),i.find("img").attr("src",r.photo),i.find("span.card-title").html(r.forname+" "+r.name),i.find("div.card-content").append("<p>"+r.gender+"</p>"),i.find("div.card-reveal").append("<p>"+r.dateOfBirth+"</p>"),i.find("div.card-action a").attr("href","mailto:"+r.email).html(r.email),i.find("div.card-action").append('<a href="#map" data-adresse="'+r.location+'" class="showGmap">View on gmaps</a>'),$(".container .row").prepend(i)}$(".showGmap").click(function(){console.log(this);var a=this.dataset.adresse;console.log(a),GMaps.geocode({address:a,callback:function(a,e){if("OK"==e){var n=a[0].geometry.location;t.setCenter(n.lat(),n.lng()),t.addMarker({lat:n.lat(),lng:n.lng()})}}})})}var t;t=new GMaps({el:"#map",lat:-12.043333,lng:-77.028333});$("#refreshProfile").click(function(){e(),a(1)}),$("#affiche16").click(function(){a(16,"grey")})});